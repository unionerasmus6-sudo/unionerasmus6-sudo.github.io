<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dashboard Moderazione · UniOn</title>
    <meta name="description" content="Pannello riservato ai moderatori UniOn per gestire ban, segnalazioni e richieste universitarie.">
    <link rel="preload" href="assets/css/style.css" as="style">
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
      body {
        min-height: 100vh;
        background: linear-gradient(180deg,#050812,#0b1220);
        color: #e5e7eb;
        margin:0;
        font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,sans-serif;
        display:flex;
        flex-direction:column;
      }
      .admin-header, .admin-footer {
        padding: 16px 32px;
        display:flex;
        align-items:center;
        justify-content:space-between;
        background: rgba(7,11,22,0.9);
        border-bottom:1px solid rgba(255,255,255,0.08);
      }
      .admin-header .brand, .admin-footer span {
        font-weight:700;
      }
      .admin-nav a {
        color:#9ca3af;
        text-decoration:none;
        margin-left:16px;
      }
      main {
        flex:1;
        padding:32px;
      }
      .welcome-panel {
        max-width:1040px;
        margin:0 auto 30px;
        background:rgba(15,23,42,0.8);
        border:1px solid rgba(255,255,255,0.06);
        border-radius:18px;
        padding:28px;
        box-shadow:0 25px 50px rgba(0,0,0,0.45);
      }
      .welcome-panel h1 {
        margin:0 0 8px;
        font-size:clamp(26px,3vw,34px);
      }
      .welcome-panel p {
        margin:0 0 18px;
        color:rgba(226,232,240,0.76);
      }
      .welcome-panel .actions {
        display:flex;
        gap:12px;
        flex-wrap:wrap;
      }
      .button, button {
        border-radius:12px;
        border:none;
        padding:12px 18px;
        cursor:pointer;
        font-weight:600;
        transition:.2s;
      }
      .button-primary {
        background:linear-gradient(135deg,#4f46e5,#22d3ee);
        color:#060b18;
      }
      .button-ghost {
        background:rgba(255,255,255,0.1);
        color:#e5e7eb;
        border:1px solid rgba(255,255,255,0.2);
      }
      .button:disabled {
        opacity:.55;
        cursor:not-allowed;
      }
      #admin-dashboard-status {
        margin:18px auto 0;
        max-width:1040px;
        text-align:center;
        min-height:24px;
      }
      .stats-grid, .admin-card-grid {
        max-width:1040px;
        margin:20px auto 0;
        display:grid;
        grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
        gap:16px;
      }
      .stat-card, .admin-card {
        background:rgba(255,255,255,0.04);
        border:1px solid rgba(255,255,255,0.08);
        border-radius:14px;
        padding:20px;
        min-height:120px;
      }
      .stat-card span {
        font-size:32px;
        font-weight:700;
        display:block;
        margin-bottom:6px;
      }
      .admin-card h3 {
        margin:0 0 8px;
        font-size:18px;
      }
      .admin-card p {
        margin:0;
        color:rgba(226,232,240,0.7);
      }
      .admin-card footer {
        margin-top:12px;
      }
      .admin-card footer button {
        width:100%;
      }
      .divider {
        height:1px;
        background:rgba(255,255,255,0.08);
        margin:32px auto;
        max-width:1040px;
      }
      .notes {
        font-size:13px;
        color:rgba(226,232,240,0.6);
        text-align:center;
        margin-top:18px;
      }
      @media (max-width:640px){
        .admin-header, .admin-footer {
          flex-direction:column;
          gap:8px;
        }
        .welcome-panel {
          padding:22px;
        }
      }
    </style>
  </head>
  <body>
    <header class="admin-header">
      <div class="brand">UniOn Moderazione</div>
      <div class="admin-nav">
        <a href="index.html" rel="nofollow">Landing</a>
        <a href="admin.html" rel="nofollow">Logout/login</a>
      </div>
    </header>
    <main>
      <section id="admin-dashboard" data-supabase-url="" data-supabase-key="">
        <div class="welcome-panel">
          <h1>Dashboard moderazione</h1>
          <p>Qui vengono riassunti gli indicatori principali per gestire ban, segnalazioni e nuove università. Continua con la procedura dopo l'autenticazione.</p>
          <div class="actions">
            <button id="admin-dashboard-refresh" class="button button-primary" type="button">Aggiorna conteggi</button>
            <button id="admin-dashboard-logout" class="button button-ghost" type="button">Esci</button>
          </div>
        </div>
        <div id="admin-dashboard-status" role="status" aria-live="polite"></div>
        <div class="stats-grid" aria-live="polite">
          <article class="stat-card">
            <span data-stat="bans">—</span>
            <p>Bans attivi</p>
          </article>
          <article class="stat-card">
            <span data-stat="reports">—</span>
            <p>Segnalazioni aperte</p>
          </article>
          <article class="stat-card">
            <span data-stat="universities">—</span>
            <p>Richieste universitarie</p>
          </article>
        </div>
        <div class="divider"></div>
        <div class="admin-card-grid">
          <article class="admin-card">
            <h3>Ban e sospensioni</h3>
            <p>Gestisci utenti sospetti, invia warning o sospendi account fino al completamento delle indagini.</p>
            <footer><button class="button button-primary" type="button">Apri gestione ban</button></footer>
          </article>
          <article class="admin-card">
            <h3>Segnalazioni</h3>
            <p>Controlla i report in sospeso, assegna priorità e chiudi quelli risolti.</p>
            <footer><button class="button button-primary" type="button">Apri segnalazioni</button></footer>
          </article>
          <article class="admin-card">
            <h3>Università</h3>
            <p>Approva nuove domande, verifica i documenti e abilita i campus alla piattaforma.</p>
            <footer><button class="button button-primary" type="button">Gestisci università</button></footer>
          </article>
        </div>
        <p class="notes">Solo i moderatori con flag <code>is_admin</code> vedono questi numeri. Il logout rimuove la sessione attiva.</p>
      </section>
    </main>
    <footer class="admin-footer">
      <span>© UniOn Moderazione</span>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script src="assets/js/admin-dashboard.js" defer></script>
  </body>
</html>
